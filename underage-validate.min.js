class UnderageValidate{#e=[];#r={};#s={noErrorMessages:!1,errorMessageClass:"error-message",errorMessageContainerClass:"error-message-container",staticErrorMessages:!1,staticContainerId:"error-message-container",noErrorFields:!1,errorFieldClass:"error-message"};#i={email:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g,password:/^(?=.*\d)(?=.*[a-zA-Z]).{8,}$/g,strongPassword:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/g,securePassword:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#&()\-[{}:;'`,?/\\*~$^+=<>\]]).{8,}$/g};constructor(e){return this.#r={...this.#s},e&&this.#t(e),this}#t(e){if("object"!=typeof e||Array.isArray(e)||null==e)throw new TypeError("Invalid rules object!");return this.#r={...this.#r,...e},this}addField(e,r){if("string"!=typeof e||""===e)throw new TypeError("Invalid field ID!");if("object"!=typeof r||Array.isArray(r)||null==r)throw new TypeError("Invalid rules object!");const s={id:e,rules:r};return this.#e.push(s),this}removeField(e){if("string"!=typeof e||""===e)throw new TypeError("Invalid field ID!");const r=this.#e.find((r=>r.id===e));if(!r||null==r)throw new ReferenceError("Field was not found!");return this.#e.splice(this.#e.indexOf(r),1),this}modifyField(e,r){if("string"!=typeof e||""===e)throw new TypeError("Invalid field ID!");if("object"!=typeof r||Array.isArray(r)||null==r)throw new TypeError("Invalid rules object!");const s=this.#e.find((r=>r.id===e));if(!s||null==s)throw new ReferenceError("Field was not found!");const i={id:e,rules:{...this.#e[this.#e.indexOf(s)].rules,...r}};return this.#e[this.#e.indexOf(s)]=i,this}replaceField(e,r){if("string"!=typeof e||""===e)throw new TypeError("Invalid field ID!");if("object"!=typeof r||Array.isArray(r)||null==r)throw new TypeError("Invalid rules object!");const s=this.#e.find((r=>r.id===e));if(!s||null==s)throw new ReferenceError("Field was not found!");const i={id:e,rules:r};return this.#e[this.#e.indexOf(s)]=i,this}validate(){let e=!0;return this.#n(),this.#e.forEach((r=>{if(!this.#l(r.id))return document.getElementById(r.id).focus(),e=!1})),e}validateField(e){this.#o(e),this.#l(e)}#l(e){const r=document.getElementById(e);if(!r)throw new ReferenceError(`Could not find ID of "${e}" in document!`);const s=this.#e.find((r=>r.id===e));if(!s)throw new ReferenceError("Field was not added to validator!");const i=s.rules;if(!i||null==i)throw new ReferenceError("No rules added to field!");const t=r.value;if(!i.message||null==i.message||""===i.message||"string"!=typeof i.message)throw new TypeError("Invalid message!",i.message);const n=i.message;if(!i.required||t&&null!=t&&""!==t){if(i.min){if("number"!=typeof i.min&&!Number(i.min))throw new TypeError("Invalid 'min' number!");if(t.length<+i.min)return void this.#a(!1,r,n)}if(i.max){if("number"!=typeof i.max&&!Number(i.max))throw new TypeError("Invalid 'max' number!");if(t.length>+i.max)return void this.#a(!1,r,n)}if(i.minValue){if("number"!=typeof i.minValue&&!Number(i.minValue))throw new TypeError("Invalid 'minValue' number!");if(!Number(t)||+t<+i.minValue)return void this.#a(!1,r,n)}if(i.maxValue){if("number"!=typeof i.maxValue&&!Number(i.maxValue))throw new TypeError("Invalid 'maxValue' number!");if(!Number(t)||+t>+i.maxValue)return void this.#a(!1,r,n)}if(!i.email||this.#i.email.test(t))if(!i.password||this.#i.password.test(t))if(!i.strongPassword||this.#i.strongPassword.test(t)){if(!i.securePassword||this.#i.securePassword.test(t)){if(i.regex){if("RegExp"!==i.regex.constructor.name)throw new TypeError("Invalid regular expression!");if(!i.regex.test(t))return void this.#a(!1,r,n)}if(i.matching){if(!i.matching||null==i.matching||""===i.matching)throw new TypeError("Invalid matching ID!");const e=document.getElementById(i.matching);if(!e||null==e)throw new ReferenceError(`Could not find ID of "${i.matching}" in document!`);if(e.value!==t)return void this.#a(!1,r,n)}return!0}this.#a(!1,r,n)}else this.#a(!1,r,n);else this.#a(!1,r,n);else this.#a(!1,r,n)}else this.#a(!1,r,n)}#a(e,r,s){const{noErrorMessages:i,errorMessageClass:t,errorMessageContainerClass:n,staticErrorMessages:l,staticContainerId:o,noErrorFields:a,errorFieldClass:d}=this.#r;if(!e){if(!1===i||null==i){const e=document.createElement("p");if(e.className=t,e.dataset.field=r.id,e.textContent=s,!0===l){const r=document.getElementById(o);if(!r||null==r)throw new ReferenceError(`Could not find ID of "${o}" in document!`);r.appendChild(e)}else{const s=document.querySelectorAll(`.${n}`);if(!s||null==s||0===s.length)throw new ReferenceError(`Could not find class of "${n}" in document!`);for(let i=0;i<s.length;i++)if(this.#d(s[i],r)){s[i].insertBefore(e,r.nextSibling);break}}}!1!==a&&null!=a||r.classList.add(d)}}#o(e){const r=document.getElementById(e),s=r.parentNode;if(r.classList.contains(this.#r.errorFieldClass)&&r.classList.remove(this.#r.errorFieldClass),!1===this.#r.staticErrorMessages){if(s.hasChildNodes())for(let e=0;e<s.children.length;e++)s.children[e].classList.contains(this.#r.errorMessageClass)&&"p"===s.children[e].tagName.toLowerCase()&&s.removeChild(s.children[e])}else{const e=document.getElementById(this.#r.staticContainerId);if(e&&null!=e)for(let s=0;s<e.children.length;s++)e.children[s].classList.contains(this.#r.errorMessageClass)&&"p"===e.children[s].tagName.toLowerCase()&&e.children[s].dataset.field===r.id&&e.removeChild(e.children[s])}}#n(){for(let e=0;e<this.#e.length;e++){const r=document.getElementById(this.#e[e].id),s=r.parentNode;if(r.classList.contains(this.#r.errorFieldClass)&&r.classList.remove(this.#r.errorFieldClass),!1===this.#r.staticErrorMessages){if(s.hasChildNodes())for(let e=0;e<s.children.length;e++)s.children[e].classList.contains(this.#r.errorMessageClass)&&"p"===s.children[e].tagName.toLowerCase()&&s.removeChild(s.children[e])}else{const e=document.getElementById(this.#r.staticContainerId);if(e&&null!=e)for(let s=0;s<e.children.length;s++)e.children[s].classList.contains(this.#r.errorMessageClass)&&"p"===e.children[s].tagName.toLowerCase()&&e.children[s].dataset.field===r.id&&e.removeChild(e.children[s])}}}#d(e,r){for(let s=0;s<e.children.length;s++)if(e.children[s].id===r.id)return!0;return!1}}